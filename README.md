# Guarding Against the Creeper: Investigating and Mitigating Log4j Exploits in Minecraft and Beyond
> CS 642 Spring 23 UW Madison


## Abstract

In late 2021, a critical vulnerability, Log4Shell, was discovered in Apacheâ€™s Log4j, a widely used Java-based logging utility. This exploit allowed adversaries to execute arbitrary code on affected systems, posing severe cybersecurity threats. This exploratory report delves into the technical workings of Log4Shell, potential impacts, and mitigation methods. Our analysis highlights the gravity of this cybersecurity threat and the collective global response that mitigated its impact.

## Introduction

**1.1 Motivation**

This research aims to investigate the severity of the Log4Shell vulnerability, particularly in the context of Minecraft servers and widely-used services relying on Log4j. The concern revolves around potential remote code execution, especially through in-game chat on Minecraft servers.

**1.2 Research Questions**

Our research was guided by the following questions:
- What is Log4Shell, and how does it work?
- What are potential consequences of Log4Shell, and how can we mitigate them?
- How does Log4Shell relate to Minecraft? Other applications?

## Presentation

Watch our [Presentation Video](https://youtu.be/xi_hCHRcdC8) for a live demonstration. The Implementation demonstration timestamp is from 2:31 to 6:30.

## Implementation Details

This repository contains the implementation details of Log4Shell exploit exploration, including a paper summarizing our findings. We conducted practical attacks to demonstrate the impact of Log4Shell in Minecraft and other services.

### Paper

For an in-depth exploration of Log4Shell, refer to our [Research Paper](https://github.com/Alphamineron/Log4j-Exploit-Research/blob/master/CS_642_Research_Paper.pdf).

### Implementation

To replicate the Log4Shell attack and understand its implications, follow these steps:

1. **Clone the Repository:**
   ```
   git clone https://github.com/YourUsername/Log4Shell-Exploration.git
   cd Log4Shell-Exploration
   ```

2. **Follow The Implementation Details Documented In The Appendix:**
   ```
   # Open the paper pdf
   ```

## Mitigation Strategies

Addressing the Log4Shell vulnerability requires a nuanced approach, given its widespread indirect reliance across numerous servers. While there are several mitigation steps available, some prove more effective than others in fully eliminating the risk of the attack.

**Recommended Actions:**

- **Upgrade to Log4j Version 2.17.1:**
  Updating to Log4j version 2.17.1 stands as a primary recommendation. This version includes critical patches to address the Log4Shell vulnerability and potential Denial of Service (DoS) abuses.

- **Disable JNDI Lookups:**
  Disabling JNDI lookups by setting `enableJndiLookup` to false provides an additional layer of defense, mitigating the risk of unauthorized code execution.

**Additional Measures:**

- **Environment Variable Configuration:**
  Configuring the environment variable `formatMsgNoLookups` to true offers another mitigation avenue. However, note that its effectiveness may vary, particularly with programs utilizing alternative formatting techniques.

- **Guaranteed Prevention:**
  The most robust mitigation strategy involves entirely removing JNDI lookup capabilities from the Log4j codebase on the local machine. While comprehensive, this approach ensures the prevention of malicious JNDI lookups and strengthens overall security posture.


